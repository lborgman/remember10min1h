<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- for MWC, https://github.com/material-components/material-web -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons&amp;display=block" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Required styles for Material Web -->
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.css">
    <!-- <link rel="stylesheet" href="/ext/mdc/14.0.0/material-components-web.css"> -->

    <link rel="stylesheet" href="css/rem10m1h.css">
    <link id="jsmind-my-colors" rel="stylesheet" href="css/var-colors.css">


    <!--
        https://dev.to/jcubic/how-to-get-a-literally-free-cdn-2gc1
            And links to files look like this:
                https://cdn.statically.io/gh/jcubic/static/master/js/lzjb.js
                https://cdn.jsdelivr.net/gh/jcubic/static@master/js/lzjb.js

"jsmind-edit-common": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/src/js/jsmind-edit-common.js",
"jsmind-cust-rend":   "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/jsmind-cust-rend.js"

"jsmind-edit-spec-jsmindedit": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/jsmind-edit-spec-jsmindedit.js",
"error": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/error.js",
"idb": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/umd/idb.js",
    -->
    <script type="importmap">
        {
            "imports": {
"db-mindmaps":
"https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/db-mindmaps.js",

"is-displayed": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/is-displayed.js",

"jsmind-edit-spec-jsmindedit": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/jsmind-edit-spec-jsmindedit.js",
"jsmind-edit-common": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/jsmind-edit-common.js",
"jsmind-cust-rend": "https://cdn.statically.io/gh/lborgman/remember10min1h/master/firebase-r10m1h/public/src/js/jsmind-cust-rend.js"
            }
        }
    </script>



    <script src="src/js/error.js" type="module">
        console.log("in type=module error.js");
    </script>
    <!--
    <script type="module">
        import { mkElt, throttleTO } from "src/js/error.js";
        window.mkElt = mkElt;
        window.throttleTO = throttleTO;
        console.log(window.mkElt);
    </script>
    -->
    <script>
        console.log("just here...");
        function mkElt(type, attrib, inner) {
            var elt = document.createElement(type);

            function addInner(inr) {
                if (inr instanceof Element) {
                    elt.appendChild(inr);
                } else {
                    const txt = document.createTextNode(inr.toString());
                    elt.appendChild(txt);
                }
            }
            if (inner) {
                if (inner.length && typeof inner != "string") {
                    for (var i = 0; i < inner.length; i++)
                        if (inner[i])
                            addInner(inner[i]);
                } else
                    addInner(inner);
            }
            for (var x in attrib) {
                elt.setAttribute(x, attrib[x]);
            }
            return elt;
        }

        function throttleTO(fn, msDelay) {
            let timeoutId;
            return function (...args) {
                if (timeoutId) {
                    // return; // original
                    clearTimeout(timeoutId); // my own
                }
                timeoutId = setTimeout(() => {
                    fn(...args);
                    console.log("throttleTO(fn, delay)");
                    timeoutId = null;
                }, msDelay);
            }
        }

    </script>

    <!-- <script src="src/js/umd/idb.js"></script> -->

    <!-- <script src="./src/js/is-displayed.js"></script> -->
    <!-- <script src="is-displayed"></script> -->


    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsmind@0.5/style/jsmind.css" /> -->
    <link rel="stylesheet" href="/ext/jsmind/jsmind.css" />
    <!-- <script src="https://cdn.jsdelivr.net/npm/jsmind@0.5/es6/jsmind.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/jsmind/es6/jsmind.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/jsmind@0.5/es6/jsmind.draggable-node.js"></script> -->
    <!-- <script src="/ext/jsmind/230406-jsmind.draggable-node.js"></script> -->

    <!-- <script src="/ext/jsmind/chrome-src-jsmind.draggable-node.js"></script> -->

    <script src="/src/js/mindmap-helpers.js"></script>
</head>

<body>
    <script>
        setTimeout(() => {
            const style =
                `
        position:fixed; bottom:0; right:0;
        display: flex; justify-content: center;
        width:fit-content; height:25px;
        padding:2px 10px;
        background:black; color:yellow;
        opacity:0.5;
        z-index:10;
        `;
            const myVer = mkElt("div", { id: "jsmind-test-my-ver", style }, "New version");
            document.body.appendChild(myVer);
        }, 1000);
    </script>
    <script src="/ext/mdc/material-components-web.js"></script>
    <div id="jsmind_container" class="jsmind_container"></div>

    <!-- Mirror must be display:block for rendering -->
    <div id="jsmind-draggable-container4mirror" style="left: -1000px;"></div>

    <!-- <script src="/src/js/fc4i-mindmaps.js"></script> -->
    <script>
        console.log("jsmind-edit.html");
        (async () => {
            debugger;
            // const modEditFc4iMM = await import("/src/js/jsmind-edit-spec-fc4i.js");

            // const modJsmindEdit = await import("/src/js/jsmind-edit-spec-jsmindedit.js");
            const modJsmindEdit = await import("jsmind-edit-spec-jsmindedit");
            // const modJsEditCommon = await import("/src/js/jsmind-edit-common.js");
            const modJsEditCommon = await import("jsmind-edit-common");

            modJsEditCommon.basicInit4jsmind();
            modJsEditCommon.setMindmapDialog(modJsmindEdit.ourDialogMindmaps);
            modJsEditCommon.pageSetup();
        })();
    </script>
</body>

</html>